import{u,j as o,f as l}from"./index-DLHuUfqj.js";const f=()=>{let i="checklist/Python";const a=u(e=>e.pages.value),c=async()=>{console.log("receiving");try{const e=localStorage.getItem("token"),t=await l.get("http://localhost:3000/get-uploaded-file",{headers:{Authorization:`Bearer ${e}`},params:{fileName:i}});console.log("received"),console.log(t.data);for(let s=0;s<t.data.userFiles.length;s++)sessionStorage.setItem(t.data.userFiles[s].name,t.data.userFiles[s].value);return t.data}catch(e){console.error(e)}},d=async()=>{console.log("sending");try{let e=[];for(let r=0;r<a.length;r++)e.push({name:a[r],value:sessionStorage.getItem(a[r])});const t=localStorage.getItem("token"),s=await l.post("http://localhost:3000/upload-file",{file:e},{headers:{Authorization:`Bearer ${t}`}});return console.log(s),s.status!==200?(console.log("Не вдалося завантажити файли."),!1):(console.log("Файли успішно завантажені!"),!0)}catch(e){console.error("Помилка під час завантаження файлів:",e)}};function n(){let e=0;for(let t in sessionStorage)Object.prototype.hasOwnProperty.call(sessionStorage,t)&&(e+=(sessionStorage[t].length+t.length)*2);return e}const g=e=>{if(e<1024)return`${e} B`;if(e<1024*1024)return`${(e/1024).toFixed(2)} KB`;if(e<1024*1024*1024)return`${(e/(1024*1024)).toFixed(2)} MB`};return o.jsxs("div",{className:"settingsSection",children:[o.jsx("h1",{style:{fontSize:"40px"},children:"Storage"}),o.jsx("div",{style:{userSelect:"none",background:"gray",width:"40%",padding:"10px",boxShadow:`inset white ${n()/(1024*1024*2/100)}px 0px 0px 0px`},children:o.jsxs("span",{style:{mixBlendMode:"difference"},children:["Storage Space ",g(n())," of 10MB used."]})}),o.jsx("h1",{style:{fontSize:"30px"},children:"You also can use a cloud storage and use it via different devices."}),o.jsx("span",{style:{fontSize:"25px",cursor:"pointer",textDecoration:"underline"},onClick:localStorage.getItem("beLocal")&&d,children:"Send your files to Cloud Storage"}),o.jsx("br",{}),o.jsx("br",{}),o.jsx("span",{style:{fontSize:"25px",cursor:"pointer",textDecoration:"underline"},onClick:localStorage.getItem("beLocal")&&c,children:"Get your files from the Cloud Storage"})]})};export{f as default};
